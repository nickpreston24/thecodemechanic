@using Htmx.TagHelpers
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model justdoit.Todo
@{
    string type_name = typeof(Person).Name.ToLower();
    var id = $"{type_name}-{Model.Id}";
}

<tr id="@id">
    <td>
        <label asp-for="Content" class="is-hidden">Content</label>
        <input class="input" type="text" asp-for="Content"/>
    </td>
    <td>
        <label asp-for="Id" class="is-hidden">Id</label>
        <input class="input" type="number" asp-for="Id"/>
    </td>
    <td class="has-text-right">
        <button class="button is-success"
                hx-post="@Url.Page("Index", "Update", new { Model.Id })"
                hx-swap="outerHTML"
                hx-target="closest tr"
                hx-include="#@id input">
            <span class="icon">
                <i class="fa fa-save"></i>
            </span>
            <span>Save</span>
        </button>
        <button class="button is-warning"
                hx-get="@Url.Page("Index", "Row", new { Model.Id })"
                hx-swap="outerHTML"
                hx-target="closest tr">
            <span class="icon">
                <i class="fa fa-exclamation-triangle"></i>
            </span>
            <span>Cancel</span>
        </button>
        @Html.AntiForgeryToken()
    </td>
</tr>